{"version":3,"sources":["hooks/http.hook.js","actions/index.js","components/heroesListItem/HeroesListItem.js","components/spinner/Spinner.js","components/heroesList/HeroesList.js","components/spinner/SpinnerDots.js","components/heroesAddForm/HeroesAddForm.js","components/heroesFilters/HeroesFilters.js","components/app/App.js","reducers/heroes.js","reducers/filters.js","store/index.js","index.js"],"names":["useHttp","useState","process","setProcess","request","useCallback","url","a","method","body","headers","fetch","response","ok","Error","status","json","data","clearError","heroesFetching","createAction","heroesFetched","heroesFetchingError","heroDeleted","heroCreated","filtersFetching","filtersFetched","filtersFetchingError","changeActiveFilter","HeroesListItem","elementClassName","name","description","element","onDeleteHero","className","src","alt","style","onClick","type","aria-label","Spinner","role","HeroesList","dispatch","useDispatch","filteredHeroesSelector","createSelector","state","filtersReducer","activeFilter","heroesReducer","heroes","filter","heroesLoadingStatus","useSelector","filteredHeroes","useEffect","then","catch","fetchHeroes","id","heroWasDeleted","alert","arr","elements","length","CSSTransition","classNames","timeout","map","props","TransitionGroup","component","SpinnerDots","width","height","cx","cy","r","attributeName","values","dur","repeatCount","begin","HeroesAddForm","filters","heroAdded","hero","initialValues","validationSchema","Yup","min","required","onSubmit","resetForm","newObj","uuidv4","JSON","stringify","errors","touched","renderStyles","e","t","htmlFor","placeholder","as","value","label","HeroesFilters","filtersLoadingStatus","onRequest","changeFilter","target","getAttribute","loader","i","data-filter","error","App","createReducer","action","payload","push","elem","stringMiddleWare","store","next","configureStore","reducer","middleware","getDefaultMiddleware","concat","devTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.603470c9.chunk.js","sourcesContent":["import { useCallback, useState } from \"react\";\n\nexport const useHttp = () => {\n    const [process, setProcess] = useState('waiting');\n\n    const request = useCallback(async (url, method = 'GET', body = null, headers={'Content-Type': 'application/json'}) => {\n        setProcess('loading');\n\n        try{\n            const response = await fetch(url, {method, body, headers});\n\n            if(!response.ok){\n                throw new Error(`Could not to fetch ${url}, status ${(await response).status}`)\n            }\n\n            const data = await response.json();\n            setProcess('confirmed');\n            return data;\n\n        }catch (e){ \n            setProcess('error');\n            throw e;\n        };\n\n    }, []);\n\n    const clearError = useCallback(() => setProcess('waiting'), []);\n\n    return {process, setProcess, clearError, request};\n};\n\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const fetchHeroes = (request) => (dispatch) => {\n    dispatch(heroesFetching());\n    request(\"http://localhost:3001/heroes\")\n        .then((data) => dispatch(heroesFetched(data)))\n        .catch(() => dispatch(heroesFetchingError))\n}\n\nexport const heroesFetching = createAction('HEROES_FETCHING');\nexport const heroesFetched = createAction('HEROES_FETCHED');\nexport const heroesFetchingError = createAction('HEROES_FETCHING_ERROR');\nexport const heroDeleted = createAction('HERO_DELETED');\nexport const heroCreated = createAction('HERO_CREATERD');\n\nexport const filtersFetching = createAction('FILTERS_FETCHING');\nexport const filtersFetched = createAction('FILTERS_FETCHED');\nexport const filtersFetchingError = createAction('FILTERS_FETCHING_ERROR');\nexport const changeActiveFilter = createAction('CHANGE_ACTIVE_FILTER');\n\n\n","\nconst HeroesListItem = ({name, description, element, onDeleteHero}) => {\n\n    let elementClassName;\n\n    switch (element) {\n        case 'fire':\n            elementClassName = 'bg-danger bg-gradient';\n            break;\n        case 'water':\n            elementClassName = 'bg-primary bg-gradient';\n            break;\n        case 'wind':\n            elementClassName = 'bg-success bg-gradient';\n            break;\n        case 'earth':\n            elementClassName = 'bg-secondary bg-gradient';\n            break;\n        default:\n            elementClassName = 'bg-warning bg-gradient';\n    }\n\n    return (\n        <li \n            className={`card flex-row mb-4 shadow-lg text-white ${elementClassName}`}>\n            <img src=\"http://www.stpaulsteinbach.org/wp-content/uploads/2014/09/unknown-hero.jpg\" \n                 className=\"img-fluid w-25 d-inline\" \n                 alt=\"unknown hero\" \n                 style={{'objectFit': 'cover'}}/>\n            <div className=\"card-body\">\n                \n                <h3 className=\"card-title\">{name}</h3>\n                <p className=\"card-text\">{description}</p>\n            </div>\n            <span className=\"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light\">\n                <button onClick={onDeleteHero} type=\"button\" className=\"btn-close btn-close\" aria-label=\"Close\"></button>\n            </span>\n        </li>\n    )\n}\n\nexport default HeroesListItem;","\nconst Spinner = () => {\n    return (\n        <div className=\"spinner-border mx-auto mt-5\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </div>\n    )\n}\n\nexport default Spinner;","import {useHttp} from '../../hooks/http.hook';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { fetchHeroes, heroDeleted } from '../../actions';\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\nimport Spinner from '../spinner/Spinner';\n\nimport './heroesList.scss';\nimport { createSelector } from 'reselect';\n\nconst HeroesList = () => {\n\n    const dispatch = useDispatch();\n    const {request} = useHttp();\n\n    const filteredHeroesSelector = createSelector(\n        state => state.filtersReducer.activeFilter,\n        state => state.heroesReducer.heroes,\n        (filter, heroes) => {\n            if(filter === 'all')return heroes;\n            return heroes.filter(({element}) => element === filter)\n        }\n    );\n\n    const {heroesLoadingStatus} = useSelector(state => state.heroesReducer);\n    const filteredHeroes = useSelector(filteredHeroesSelector)\n    \n    useEffect(() => {\n        dispatch(fetchHeroes(request));\n        // eslint-disable-next-line\n    }, []);\n\n    const heroesOnLoaded = (data) => {\n        dispatch(heroesFetched(data));\n    };\n\n    const heroWasDeleted = (id) => {\n        dispatch(heroDeleted(id));\n    };\n\n    const onDeleteHero = (id) => {\n        request(`http://localhost:3001/heroes/${id}`, 'DELETE')\n            .then(() => heroWasDeleted(id))\n            .catch(() => alert('Что-то пошло не так...'))\n    };\n\n    if (heroesLoadingStatus === \"loading\") {\n        return <Spinner/>;\n    } else if (heroesLoadingStatus === \"error\") {\n        return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>\n    };\n\n    const renderHeroesList = (arr) => {\n        if (arr.length === 0) {\n            return <CSSTransition classNames='heroes__text' timeout={1}>\n                <h5 className=\"text-center heroes__text\">Героев пока нет</h5>\n            </CSSTransition>\n        };\n\n        return arr.map(({id, ...props}) => {\n            return (\n            <CSSTransition key={id} classNames='heroes__item' timeout={250}>\n                <HeroesListItem key={id} {...props} onDeleteHero={() => onDeleteHero(id)}/>\n            </CSSTransition>\n            );\n        });\n    };\n\n    const elements = renderHeroesList(filteredHeroes);\n\n    return (\n        <ul className='heroes__list'>\n            <TransitionGroup component={null}>\n                {elements}\n            </TransitionGroup>\n        </ul>\n    );\n};\n\nexport default HeroesList;","import './spinner.scss'\r\n\r\nconst SpinnerDots = () => {\r\n  return (\r\n    <svg className=\"spinner-dots\" width=\"60\" height=\"30\">\r\n      <circle cx=\"15\" cy=\"15\" r=\"6\">\r\n        <animate attributeName=\"opacity\" values=\"0;1;0\" dur=\"1s\" repeatCount=\"indefinite\" />\r\n      </circle>\r\n      <circle cx=\"30\" cy=\"15\" r=\"6\">\r\n        <animate attributeName=\"opacity\" values=\"0;1;0\" dur=\"1s\" begin=\"0.2s\" repeatCount=\"indefinite\" />\r\n      </circle>\r\n      <circle cx=\"45\" cy=\"15\" r=\"6\">\r\n        <animate attributeName=\"opacity\" values=\"0;1;0\" dur=\"1s\" begin=\"0.4s\" repeatCount=\"indefinite\" />\r\n      </circle>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default SpinnerDots;","import {Formik, Form, Field} from 'formik';\nimport * as Yup from 'yup';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useHttp } from '../../hooks/http.hook'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { heroCreated } from '../../actions';\nimport SpinnerDots from '../spinner/SpinnerDots';\n\nconst HeroesAddForm = () => {\n\n    const {request} = useHttp();\n    const dispatch = useDispatch();\n    const {filters} = useSelector(state => state.filtersReducer);\n\n    const onSubmit = (values, {resetForm}) => {\n        resetForm();\n        const newObj = {id: uuidv4(), ...values};\n        request(\"http://localhost:3001/heroes\", 'POST',JSON.stringify(newObj)).then(() => heroAdded(newObj)).catch(() => alert('Что-то пошло не так'));\n    };\n\n    const heroAdded = (hero) => {\n        dispatch(heroCreated(hero));\n    };\n\n    const renderFilters = (arr) => {\n        return arr.map(({label, value}) => {\n            return label === 'Все' ? null : <option key={label} value={value}>{label}</option>\n        });\n    };\n\n    return (\n        <Formik\n            initialValues={{\n                name: '',\n                description: '',\n                element: ''\n\n            }}\n            validationSchema = {Yup.object({\n                name: Yup.string().min(3, 'Минимум 3 символа!').required('Обязательное поле!'),\n                description: Yup.string().min(3, 'Минимум 3 символа!').required('Обязательное поле!'),\n                element: Yup.string().required('Выберите элемент!')\n            })}\n            onSubmit = {onSubmit}\n        >\n            {({errors, touched}) => {\n        \n                const renderStyles = (e, t) => {\n                    if(e && t){\n                        return 'is-invalid'\n                    }else if(t && !e){\n                        return 'is-valid'\n                    }\n                }\n\n                return (\n                    <Form className=\"border p-4 shadow-lg rounded\">\n                        <div className=\"mb-3\">\n                            <label htmlFor=\"name\" className=\"form-label fs-4\">Имя нового героя</label>\n                            <Field\n                                type=\"text\" \n                                name=\"name\" \n                                className={`form-control ${renderStyles(errors.name, touched.name)}`}\n                                id=\"name\" \n                                placeholder=\"Как меня зовут?\"/>\n                        </div>\n                        \n\n                        <div className=\"mb-3\">\n                            <label htmlFor=\"description\" className=\"form-label fs-4\">Описание</label>\n                            <Field\n                                as=\"textarea\"\n                                name=\"description\" \n                                className={`form-control ${renderStyles(errors.description, touched.description)}`}\n                                id=\"description\" \n                                placeholder=\"Что я умею?\"\n                                style={{\"height\": '130px'}}/>\n                        </div>\n\n                        {filters.length === 0 ? <SpinnerDots/> : <div className=\"mb-3\">\n                            <label htmlFor=\"element\" className=\"form-label\">Выбрать элемент героя</label>\n                            <Field\n                                as=\"select\"\n                                className={`form-control ${renderStyles(errors.element, touched.element)}`}\n                                id=\"element\" \n                                name=\"element\"\n                                >\n                                <option value=''>Я владею элементом...</option>\n                                {renderFilters(filters)}\n                            </Field>\n                        </div>}\n\n                        <button type=\"submit\" className=\"btn btn-primary\">Создать</button>\n                    </Form>\n                )\n            }}\n        </Formik>\n    )\n}\n\nexport default HeroesAddForm;","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHttp } from \"../../hooks/http.hook\";\nimport { filtersFetching, filtersFetched, filtersFetchingError, changeActiveFilter } from \"../../actions\";\nimport SpinnerDots from \"../spinner/SpinnerDots\";\n\nimport './heroesFilters.scss';\n\nconst HeroesFilters = () => {\n\n    const {filters, filtersLoadingStatus, activeFilter} = useSelector(state => state.filtersReducer)\n    const {request} = useHttp();\n    const dispatch = useDispatch();\n\n\n    useEffect(() => {\n        onRequest();\n        // eslint-disable-next-line\n    }, []);\n\n    const onRequest = () => {\n        dispatch(filtersFetching());\n        request(\"http://localhost:3001/filters\").then(data => dispatch(filtersFetched(data))).catch(() => dispatch(filtersFetchingError()))\n    };\n\n    const changeFilter = (e) => {\n        const filter = e.target.getAttribute('data-filter');\n        dispatch(changeActiveFilter(filter));\n    };\n\n    const loader = filtersLoadingStatus === 'loading' ? <SpinnerDots /> : null\n\n    const elements = filters.map(({label, value, style}, i) => <button\n        onClick={changeFilter}\n        key={i}\n        data-filter={value}\n        className={`btn ${style} ${value === activeFilter ? 'active' : ''}`}>{label}\n    </button>);\n\n    const error = filtersLoadingStatus === 'error' ? <span><b>Что-то пошло не так...</b></span>: null;\n\n    return (\n        <div className=\"card shadow-lg mt-4\">\n            <div className=\"card-body\">\n                <p className=\"card-text\">Отфильтруйте героев по элементам</p>\n                <div className=\"btn-group\">\n                    {loader}\n                    {elements}\n                    {error}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default HeroesFilters;","import HeroesList from '../heroesList/HeroesList';\nimport HeroesAddForm from '../heroesAddForm/HeroesAddForm';\nimport HeroesFilters from '../heroesFilters/HeroesFilters';\n\nimport './app.scss';\n\nconst App = () => {\n    \n    return (\n        <main className=\"app\">\n            <div className=\"content\">\n                <HeroesList/>\n                <div className=\"content__interactive\">\n                    <HeroesAddForm/>\n                    <HeroesFilters/>\n                </div>\n            </div>\n        </main>\n    )\n}\n\nexport default App;","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { heroesFetching, heroesFetched, heroesFetchingError, heroCreated, heroDeleted } from \"../actions\";\r\n\r\nconst initialState = {\r\n  heroes: [],\r\n  heroesLoadingStatus: 'idle',\r\n};\r\n\r\nconst heroesReducer = createReducer(initialState, {\r\n    [heroesFetching]: (state) => {state.heroesLoadingStatus = 'loading'},\r\n\r\n    [heroesFetchingError]: (state) => {state.heroesLoadingStatus = 'error'},\r\n\r\n    [heroesFetched]: (state, action) => {\r\n        state.heroes = action.payload;\r\n        state.heroesLoadingStatus = 'idle';\r\n    },\r\n\r\n    [heroCreated]: (state, action) => {state.heroes.push(action.payload)},\r\n    \r\n    [heroDeleted]: (state, action) => {state.heroes = state.heroes.filter(elem => elem.id !== action.payload)}\r\n}, [], state => state);\r\n\r\n\r\n// const heroesReducer = createReducer(initialState, builder => {\r\n//     builder\r\n//         .addCase(heroesFetching, (state) => {\r\n//             state.heroesLoadingStatus = 'loading'\r\n//         })\r\n//         .addCase(heroesFetched, (state, action) => {\r\n//             state.heroes = action.payload;\r\n//             state.heroesLoadingStatus = 'idle';\r\n//         })\r\n//         .addCase(heroesFetchingError, (state) => {\r\n//             state.heroesLoadingStatus = 'error';\r\n//         })\r\n//         .addCase(heroDeleted, (state, action) => {\r\n//             state.heroes = state.heroes.filter(elem => elem.id !== action.payload)\r\n//         })\r\n//         .addCase(heroCreated, (state, action) => {\r\n//             state.heroes.push(action.payload)\r\n//         })\r\n//         .addDefaultCase(() => {});\r\n// });\r\n\r\n// const heroesReducer = (state = initialState, action) => {\r\n//   switch (action.type) {\r\n//       case 'HEROES_FETCHING':\r\n//           return {\r\n//               ...state,\r\n//               heroesLoadingStatus: 'loading'\r\n//           }\r\n//       case 'HEROES_FETCHED':\r\n//           return {\r\n//               ...state,\r\n//               heroes: action.payload,\r\n//               heroesLoadingStatus: 'idle'\r\n//           }\r\n//       case 'HEROES_FETCHING_ERROR':\r\n//           return {\r\n//               ...state,\r\n//               heroesLoadingStatus: 'error'\r\n//           }\r\n//       case 'HERO_DELETED':\r\n//           return {\r\n//               ...state,\r\n//               heroes: state.heroes.filter(elem => elem.id !== action.payload)\r\n//           }\r\n//       case 'HERO_ADD':\r\n//           return {\r\n//               ...state,\r\n//               heroes: [...state.heroes, action.payload],\r\n//           }\r\n//       default: return state\r\n  \r\n//   }\r\n// }\r\n\r\n\r\n\r\nexport default heroesReducer;","import { createReducer } from \"@reduxjs/toolkit\"\r\nimport { filtersFetching, filtersFetched, filtersFetchingError, changeActiveFilter } from \"../actions\"\r\n\r\nconst initialState = {\r\n  filters: [],\r\n  filtersLoadingStatus: 'idle',\r\n  activeFilter: 'all',\r\n}\r\n\r\nconst filtersReducer = createReducer(initialState, {\r\n    [filtersFetching]: (state) => {state.filtersLoadingStatus = 'loading'},\r\n\r\n    [filtersFetched]: (state, action) => {\r\n        state.filters = action.payload;\r\n        state.filtersLoadingStatus = 'idle';\r\n    },\r\n\r\n    [filtersFetchingError]: (state) => {state.filtersLoadingStatus = 'error'},\r\n\r\n    [changeActiveFilter]: (state, action) => {state.activeFilter = action.payload}\r\n}, [], state => state);\r\n\r\n\r\n// const filtersReducer = createReducer(initialState, builder => {\r\n//     builder\r\n//         .addCase(filtersFetching, (state) => {\r\n//             state.filtersLoadingStatus = 'loading';\r\n//         })\r\n//         .addCase(filtersFetched, (state, action) => {\r\n//             state.filters = action.payload;\r\n//             state.filtersLoadingStatus = 'idle';\r\n//         })\r\n//         .addCase(filtersFetchingError, (state) => {\r\n//             state.filtersLoadingStatus = 'error'\r\n//         })\r\n//         .addCase(changeActiveFilter, (state, action) => {\r\n//             state.activeFilter = action.payload\r\n//         })\r\n// })\r\n\r\n// const filtersReducer = (state = initialState, action) => {\r\n//   switch (action.type) {\r\n//       case 'FILTERS_FETCHING':\r\n//           return {\r\n//               ...state,\r\n//               filtersLoadingStatus: 'loading'\r\n//           }\r\n//       case 'FILTERS_FETCHED':\r\n//           return {\r\n//               ...state,\r\n//               filtersLoadingStatus: 'fetched',\r\n//               filters: action.payload\r\n//           }\r\n//       case 'FILTERS_FETCHING_ERROR':\r\n//           return {\r\n//                ...state,\r\n//               filtersLoadingStatus: 'error'\r\n//           }\r\n//       case 'CHANGE_ACTIVE_FILTER':\r\n//           return {\r\n//               ...state,\r\n//               activeFilter: action.payload,\r\n//           }\r\n//       default: return state\r\n  \r\n//   }\r\n// }\r\n\r\n\r\n\r\nexport default filtersReducer;","import { configureStore } from '@reduxjs/toolkit'\nimport heroesReducer from '../reducers/heroes';\nimport filtersReducer from '../reducers/filters';\n\nconst stringMiddleWare = (store) => (next) => (action) => {\n   if(typeof action === 'string'){\n      return next({\n         type: action\n      });\n   };\n   return next(action);\n}\n\nconst store = configureStore({\n   reducer: {heroesReducer, filtersReducer},\n   middleware: getDefaultMiddleware => getDefaultMiddleware().concat(stringMiddleWare),\n   devTools: process.env.NODE_ENV !== 'production'\n});\n\n// const enhancer = (createStore) => (...args) => {\n//    const store = createStore(...args);\n\n//    const oldDispatch = store.dispatch;\n//    store.dispatch = (action) => {\n//       if(typeof action === 'string'){\n//          return oldDispatch({\n//             type: action\n//          });\n//       };\n//       return oldDispatch(action);\n//    };\n\n//    return store;\n// };\n\n// const store = createStore(\n//    combineReducers({heroesReducer, filtersReducer}),\n//    compose( applyMiddleware(ReduxThunk, stringMiddleWare))\n// );\n\nexport default store;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/app/App';\nimport store from './store';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}